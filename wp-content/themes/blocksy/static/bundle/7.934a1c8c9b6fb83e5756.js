(window.blocksyJsonP=window.blocksyJsonP||[]).push([[7],{29:function(e,t,n){"use strict";n.r(t),n.d(t,"mountMenuLevel",(function(){return u})),n.d(t,"handleUpdate",(function(){return c}));const i=e=>e.classList.contains("animated-submenu")&&(!e.parentNode.classList.contains("menu")||-1===e.className.indexOf("ct-mega-menu")&&e.parentNode.classList.contains("menu"));const s=(e,t)=>{let{startPosition:n="end"}=t;const i=e.querySelector(".sub-menu"),s=(e=>{const t=function(e,t){for(var n=[];e.parentNode;)e.parentNode&&e.parentNode.matches&&e.parentNode.matches(t)&&n.push(e.parentNode),e=e.parentNode;return n[n.length-1]}(e,"li.menu-item");return t&&t.querySelector(".sub-menu .sub-menu .sub-menu")&&t.getBoundingClientRect().left>innerWidth/2?"left":"right"})(i),{left:u,width:r,right:c}=i.getBoundingClientRect();let a=s,o=e.getBoundingClientRect();if("left"===s){("end"===n?o.left:o.right)-r<0&&(a="right")}if("right"===s){("end"===n?o.right:o.left)+r>innerWidth&&(a="left")}e.dataset.submenu=a,e.addEventListener("click",()=>{})},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};[...e.children].filter(e=>e.matches(".menu-item-has-children, .page_item_has_children")).map(e=>{if(e.classList.contains("ct-mega-menu-custom-width")){const t=e.querySelector(".sub-menu"),n=e.getBoundingClientRect(),i=t.getBoundingClientRect();n.left+n.width/2+i.width/2>innerWidth&&(e.dataset.submenu="left"),n.left+n.width/2-i.width/2<0&&(e.dataset.submenu="right")}i(e)&&s(e,t)})},r=e=>{let{target:t}=e;if(t.matches(".menu-item-has-children, .page_item_has_children")||(t=t.closest(".menu-item-has-children, .page_item_has_children")),t.parentNode.classList.contains("menu")&&t.className.indexOf("ct-mega-menu")>-1&&-1===t.className.indexOf("ct-mega-menu-custom-width")&&wp&&wp.customize&&wp.customize("active_theme")){t.querySelector(".sub-menu").style.left=Math.round(t.closest('[class*="ct-container"]').firstElementChild.getBoundingClientRect().x)-Math.round(t.closest("nav").getBoundingClientRect().x)+"px"}if(!i(t))return;const n=t.querySelector(".sub-menu");u(n),n._timeout_id&&clearTimeout(n._timeout_id),n.parentNode.addEventListener("mouseleave",()=>{n._timeout_id=setTimeout(()=>{n._timeout_id=null,[...n.children].filter(e=>i(e)).map(e=>e.removeAttribute("data-submenu"))},200)},{once:!0})},c=e=>{e.parentNode||(e=document.querySelector(`[class="${e.className}"]`)),(e.querySelector(".menu-item-has-children")||e.querySelector(".page_item_has_children"))&&(e.removeEventListener("mouseenter",r),e.addEventListener("mouseenter",r),e.removeEventListener("focusin",r),e.addEventListener("focusin",r))}}}]);